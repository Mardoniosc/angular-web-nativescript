<Page>
  <mob-action-bar
    title="GERENCIAR FILMES"
    subtitle="Cadastre, edite ou remova filmes da sua lista"
  ></mob-action-bar>
  <StackLayout>
    <!-- new movie container -->
    <GridLayout class="new-movie-container" columns="*, auto">
      <TextField
        col="0"
        [(ngModel)]="newMovieTitle"
        hint="TÃ­tulo do filme"
        text=""
      ></TextField>
      <button text="+" col="1" (tap)="createMovie()"></button>
    </GridLayout>

    <!-- movie list -->
    <ListView [items]="movies">
      <ng-template let-movie="item">
        <GridLayout class="movie-container" columns="auto, *, auto">
          <label
            class="movie-rating"
            text="{{movie.rating}} â­"
            col="0"
          ></label>

          <StackLayout col="1" [nsRouterLink]="['/movies', movie.id, 'edit']">
            <label class="movie-title" text="{{movie.title}}"></label>
            <label class="movie-obs" text="{{movie.obs}}"></label>
          </StackLayout>

          <StackLayout col="2" class="movie-actions">
            <label
              class="delete-movie-btn"
              (tap)="deleteMovie(movie)"
              text="âŒ"
            ></label>
            <label
              class="watch-next-flag"
              (tap)="toggleMovieWatchNext(movie)"
              [class.marked]="movie.toWatchNext"
              text="ðŸ¿"
            ></label>
          </StackLayout>
        </GridLayout>
      </ng-template>
    </ListView>
  </StackLayout>
</Page>
